<div class="flex flex-col items-center mt-10">
    <h1 class="flex items-center text-3xl font-bold mb-6">
        <% if @character.profile_picture.attached? %>
            <%= image_tag url_for(@character.profile_picture), alt: "#{@character.name} profile picture", class: "h-16 w-16 object-cover rounded-full mr-4 shadow-lg border-2 border-gray-300" %>
        <% end %>
        <span><%= @character.name %></span>
    </h1>

    <ul class="bg-white rounded-lg shadow-md p-8 w-full max-w-lg space-y-4">
        <li>
            <div class="flex flex-wrap gap-4 mt-2 text-gray-900">
                <span><strong>STR</strong>: <%= @character.strength %></span>
                <span><strong>DEX</strong>: <%= @character.dexterity %></span>
                <span><strong>CON</strong>: <%= @character.constitution %></span>
                <span><strong>INT</strong>: <%= @character.intelligence %></span>
                <span><strong>WIS</strong>: <%= @character.wisdom %></span>
                <span><strong>CHA</strong>: <%= @character.charisma %></span>
            </div>
        </li>
        <li>
            <div class="flex flex-wrap gap-6 items-center">
            <div>
                <strong class="text-gray-700">Class:</strong>
                <span class="text-gray-900"><%= @character.character_class %></span>
            </div>
            <div>
                <strong class="text-gray-700">Subclass:</strong>
                <span class="text-gray-900"><%= @character.subclass %></span>
            </div>
            <div>
                <strong class="text-gray-700">Species:</strong>
                <span class="text-gray-900"><%= @character.species %></span>
            </div>
            </div>
        </li>
        <li>
            <div class="flex flex-wrap gap-6 items-center">
            <div>
                <strong class="text-gray-700">Level:</strong>
                <span class="text-gray-900"><%= @character.level %></span>
            </div>
            <div>
                <strong class="text-gray-700">Hitpoints:</strong>
                <span class="text-gray-900"><%= @character.hitpoints %></span>
            </div>
            <div>
                <strong class="text-gray-700">AC:</strong>
                <span class="text-gray-900"><%= 10 + ((@character.dexterity - 10) / 2).floor %></span>
            </div>
            <div>
                <strong class="text-gray-700">Speed:</strong>
                <span class="text-gray-900"><%= @character.speed %> ft</span>
            </div>
            </div>
        </li>
        <li>
            <strong class="text-gray-700">Feats:</strong>
            <ul class="list-disc ml-6 text-gray-900">
                <% @character.feats&.each do |feat| %>
                    <li><%= feat %></li>
                <% end %>
            </ul>
        </li>
        <li>
            <strong class="text-gray-700">Items:</strong>
            <div class="ml-6">
                <div>
                    <ul class="list-disc ml-6 text-gray-900">
                        <% @character.items&.each do |item| %>
                            <li><%= item %></li>
                        <% end %>
                    </ul>
                </div>
            </div>
        </li>
    </ul>

    <div class="mt-4 flex gap-2">
      <%= link_to "Play Battle", play_character_path(@character), class: "bg-purple-600 text-white px-3 py-1 rounded hover:bg-purple-700" %>
      <% if @character.game_profile %>
        <span class="text-sm text-gray-600">
          • Game Level: <%= @character.game_profile.level %>
          • XP: <%= @character.game_profile.exp %>
          • Gold: <%= @character.game_profile.gold %>
        </span>
      <% end %>
    </div>
</div>
